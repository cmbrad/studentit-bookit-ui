
<dom-module id="location-map">
    <template>
        <style>
            :host {
                display: flex;
                justify-content: center;
                align-items: center;

                height: 100%;
                width: 100%;

                cursor: default;
            }

            #map-canvas {
                width: 100%;
                height: 100%;
            }
        </style>

        <canvas id="map-canvas"></canvas>   
    </template>
    <script>
        Polymer({
            is: 'location-map',

            ready: function() {
                this._initMap('map-canvas');
            },

            properties: {
                level: {
                    type: String,
                    observer: '_levelChanged'
                },
                mapFile: {
                    type: String,
                    observer: '_mapChanged'
                },
                _levels: {
                    type: Array
                },
                _canvas: {
                    type: Object
                },
                _context: {
                    type: Object
                }
            },

            _initMap: function(divId) {
                this._canvas = this.$$("#map-canvas");
                this._context = this._canvas.getContext("2d");
            },
            
            _mapChanged: function(mapFile) {
                console.log(mapFile);
            },

            _levelChanged: function(level) {
                if (!this.levels || this.levels.indexOf(level) == -1) {
                    console.warn('Selected level does not exist. Ignoring.');
                    return;
                }
            }
        });
    </script>
</dom-module>
